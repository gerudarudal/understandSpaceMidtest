<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 천문학 개념 퀴즈 (랜덤 출제) 🔭</title>
    <style>
        /* CSS for Styling */
        body {
            font-family: 'Malgun Gothic', '맑은 고딕', sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #004d40; /* Teal/Dark Green */
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
            border-bottom: 3px solid #004d40;
            padding-bottom: 10px;
        }
        
        h2#final-score {
            font-size: 2em;
            color: #1e88e5;
            padding: 20px 0;
            border-top: 2px dashed #ccc;
            margin-top: 30px;
        }

        .question-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }

        .question-text {
            font-size: 1.8em; /* 큰 폰트 적용 */
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .input-group {
            display: flex;
            align-items: center;
        }

        .answer-input {
            flex-grow: 1;
            padding: 10px;
            font-size: 1.3em; /* 큰 폰트 적용 */
            border: 2px solid #ccc;
            border-radius: 5px;
            transition: border-color 0.3s;
        }

        .answer-input:focus {
            border-color: #004d40;
            outline: none;
        }

        .check-button {
            padding: 10px 20px;
            font-size: 1.3em; /* 큰 폰트 적용 */
            font-weight: bold;
            color: white;
            background-color: #4CAF50;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
            transition: background-color 0.3s;
        }

        .check-button:hover:not(:disabled) {
            background-color: #45a049;
        }
        
        .check-button:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }

        .reveal-section {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-size: 1.4em; /* 큰 폰트 적용 */
            font-weight: bold;
            min-height: 20px;
        }

        .reveal-section.correct {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

        .reveal-section.incorrect {
            background-color: #ffebee;
            color: #c62828;
        }

        .correct-answer {
            margin-top: 5px;
            font-size: 1.2em;
            color: #004d40;
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>🚀 천문학 개념 퀴즈 (총 98문제, 랜덤 출제) 🔭</h1>

    <div id="quiz-list">
        </div>

    <h2 id="final-score" style="text-align: center; margin-top: 50px; color: #1e88e5; font-size: 2em;">점수: 0 / 0</h2>
</div>

<script>
    // JavaScript for Quiz Logic
    
    // 원본 문장 구조와 답을 유지한 퀴즈 데이터
    const ORIGINAL_QUIZ_DATA = [
        { q: "우주의 과학적 정의-", a: ["물질과 에너지를 일정한 규칙하에 담고있는 시공간"] },
        { q: "우주 거리 척도-", a: ["천문단위(AU), 광년, 파섹(pc)"] },
        { q: "천문단위-", a: ["지구와 태양 사이의 거리, 1.5억km"] },
        { q: "광년-", a: ["빛이 진공에서 1년동안 갈 수 있는 거리(9조5천억km)"] },
        { q: "파섹(parsec)-", a: ["지구의 공전궤도의 반지름(1AU)에서 관측되는 별의 시차가 1초가 되는 천체까지의 거리"] },
        { q: "천문학에 대한 인간 관점의 변화-", a: ["고대 그리스 BC6C를 기준으로 이전은 모든 자연현상을 신과 연계하였으나, 이후는 자신의 이론을 주장하게 되었다."] },
        { q: "지구가 둥글다는 증거(아리스토텔레스)-", a: ["월식 때 달을 가리는 지구의 그림자가 둥글다, 위도에 따라 북극성의 고도가 바뀐다."] },
        { q: "이성에 바탕을 둔 새로운 사고-", a: ["피타고라스"] },
        { q: "모든 것은 수, 음악을 수학으로 해석-", a: ["피타고라스"] },
        { q: "우주도 음악처럼 조화로워야 한다-", a: ["피타고라스"] },
        { q: "달은 태양빛을 반사한다, 태양은 흰색의 뜨거운 암석-", a: ["아낙사고라스"] },
        { q: "모든 천체는 원운동, 지구는 구형-", a: ["아리스토텔레스"] },
        { q: "지구와 태양 사이의 거리 최초측정-", a: ["아리스타르쿠스"] },
        { q: "달의 크기 측정-", a: ["아리스타르쿠스"] },
        { q: "지구의 자전, 공전 최초주장-", a: ["아리스타르쿠스"] },
        { q: "아리스타르쿠스의 달 크기 측정 방법-", a: ["월식 때 그림자에 가려지는 시간과 안보이는 시간을 이용해 비율로 측정"] },
        { q: "최초로 지구의 크기 과학적 측정", a: ["에라토스테네스"] },
        { q: "태양의 크기 측정", a: ["에라토스테네스"] },
        { q: "에라토스테네스의 지구 크기 측정방법", a: ["시에네와 알렉산드리아사이의 거리와, 알렉산드리아의 그림자 각도를 이용해 비례식으로 지구의 크기 측정"] },
        { q: "주전원 이론이란?", a: ["행성의 역행 운동을 설명하기 위한 억지이론"] },
        { q: "주전원 이론을 도입한 사람", a: ["히페르쿠스"] },
        { q: "정확한 일식예측한 사람", a: ["히페르쿠스"] },
        { q: "지구의 세차운동을 발견한 사람", a: ["히페르쿠스"] },
        { q: "별의 등급을 도입", a: ["히페르쿠스, 1~3등급"] },
        { q: "별목록 정리한 사람", a: ["히페르쿠스"] },
        { q: "1000개 이상의 항성의 위치를 표시한 사람", a: ["프톨레마이우스"] },
        { q: "별의 밝기를 6등급으로 분류한 사람", a: ["프톨레마이우스"] },
        { q: "주전원 이론을 발전시킨 사람", a: ["프톨레마이우스"] },
        { q: "태양, 달, 일식, 월식, 5행성의 위치, 천문현상 등을 수학적으로 분석", a: ["히페르쿠스"] },
        { q: "행성의 역행운동은 왜 일어나는가?", a: ["행성들의 공전 주기가 달라 지구에서 관측하는 행성의 운동이 겉보기에만 역행으로 보이기 때문"] },
        { q: "코페르니쿠스의 소논평", a: ["태양 중심 기본관 확립"] },
        { q: "태양 중심 기본관을 확립", a: ["코페르니쿠스의 소논평"] },
        { q: "소논평의 주요 내용", a: ["지동설을 주장, 지구에서 별의 거리는 매우 멀다(지구-태양에 비해), 별의 일주운동은 사실 지구가 도는 것, 태양의 연주운동은 지구가 공전하기 때문, 모든 행성은 태양주위를 돈다, 역행운동의 설명"] },
        { q: "티코 브라헤가 한 일", a: ["세계 최고 수준의 천문 관측기기 개발, 사용"] },
        { q: "요하네스 케플러의 업적-", a: ["티코 브라헤의 관측결과를 바탕으로 태양중심설 증명, 행성 운동의 3법칙"] },
        { q: "행성 운동의 3법칙", a: ["타원 궤도 법칙(행성은 태양을 한 초점으로하는 타원 궤도를 그리며 공전), 면적 속도 일정 법칙(행성과 태양을 연결하는 가상적인 선분이 같은시간동안 쓸고 지나가는 면적은 항상 동일), 조화의 법칙(공전주기의 제곱은 궤도의 장반경의 세제곱에 비례)"] },
        { q: "갈릴레오 갈릴레이의 업적", a: ["달, 금성의 위상변화, 토성의 고리, 갈릴레이 4대 위성, 은하수, 태양의 흑점 관측, 코페르니쿠스의 태양 중심설 입증"] },
        { q: "뉴턴의 업적", a: ["만유인력의 법칙, 운동의 3법칙으로 행성의 운동 수학적으로 증명> 태양중심설의 핵심 의문점 해결, 반사망원경 발명"] },
        { q: "반사망원경 발명", a: ["뉴턴"] },
        { q: "천왕성 발견한 학자", a: ["허셜"] },
        { q: "은하우주이론", a: ["허셜"] },
        { q: "허셜이 한 일", a: ["천왕성 발견, 은하우주이론, 이중성천문학의 기초 마련, NGC 2500개의 성운 기록, 토성, 천왕성 위성 발견"] },
        { q: "연주시차", a: ["어떤 천체를 바라보았을 때 지구의 공전에 따른 위치변화에 의해 천구상에 시차가 생기는 일"] },
        { q: "베셀의 업적", a: ["연주시차 최초 측정, 태양 중심설 검증 완료"] },
        { q: "1년의 정의 두 가지와 각 특징", a: ["태양년(춘분점을 기준으로 태양의 황경이 360도가 되는 시간, 태양이 황도를 따라 천구를 일주하는 주기)항성년(지구가 임의의 항성을 기준으로 하여 태양의 둘레를 공전하는데 걸리는 시간)"] },
        { q: "춘분점이란", a: ["황도와 천구적도가 교차하는 두 점 중 하나 태양이 적도의 남에서 북으로 통과할 때의 점(적도 좌표계의 기준점)"] },
        { q: "한 달의 정의 2가지와 각 특징", a: ["항성월(천구상에 있는 임의의 항성을 기준으로 측정)삭망월(달의 위상이 변화하는 주기)"] },
        { q: "하루의 주기 2가지와 각 특징", a: ["태양일(24h), 항성일(23h56m)"] },
        { q: "별은 매일 몇 분씩 일찍 뜸?", a: ["4분"] },
        { q: "달은 매일 몇 분씩 늦게 뜸?", a: ["50분"] },
        { q: "이집트력의 기원", a: ["나일 강의 범람시기 정확히 측정 필요"] },
        { q: "이집트력이 사용한 방식", a: ["항성년"] },
        { q: "망원경 종류 3가지와 각 특징", a: ["광학 망원경, 전파 망원경, 우주 망원경"] },
        { q: "망원경의 발전", a: ["갈릴레이>케플러>뉴튼>카세그레인"] },
        { q: "광학 망원경의 분류 2가지와 각 특징", a: ["굴절망원경(갈릴레이식< 초점에 눈, 케플러식< 초점 뒤에 눈), 반사망원경(뉴튼식, 카세그레인식, 슈미트 카세그레인식)"] },
        { q: "천체망원경의 구조", a: ["후드, 주경, 파인더, 적경조임나사, 초점조절나사, 극축망원경, 전원, 삼각대, 콘트롤러, 균형추, 적위축 조임나사"] },
        { q: "광학망원경의 가대에 의한 구분", a: ["적도의식(고도, 방위각 축), 경위대식(북극성, 적경축)"] },
        { q: "광학망원경의 성능 4가지", a: ["집광력, 배율, 분해능, 구경비"] },
        { q: "집광력", a: ["대물렌즈 나누기 눈동자의 지름의 제곱"] },
        { q: "배율", a: ["주경의 초점거리를 접안렌즈의 초점거리로 나눈 것"] },
        { q: "분해능", a: ["렌즈의 지름에 반비례"] },
        { q: "구경비", a: ["유효구경의 초점거리를 구경으로 나눈 것"] },
        { q: "수차란?", a: ["한 점에서 나온 빛이 광학계를 지나 상을 맺을 때 정확히 한 점에 모이지 않아 영상에 빛깔이 있어 보이거나 일그러지는 현상 ex)색수차, 구면수차, 코마수차"] },
        { q: "관측기기 3가지와 각 특징", a: ["CCD(빛의 세기를 전기적 신호로 변환시켜 이미지를 얻음)분광기(물질이 방출 또는 흡수하는 빛의 스펙트럼을 측정하여 물질의 성질을 파악)우주망원경(우주에 있어 지상보다 좋은 관측환경+지상에서 관측하기 어려운 파장대 영역 관측 가능)"] },
        { q: "적응광학이란?", a: ["천체의 빛이 지구 대기에 의해 빠르게 변화하는 광학적 왜곡을 상쇄, 보정하여 망원경의 광학 성능을 향상시키는 기술"] },
        { q: "우주망원경 종류", a: ["허블우주망원경, 제임스 웹 우주망원경(라그랑지점 위치), 유클리드 우주망원경(은하의 분포 정밀 측정, 암흑 물질, 암흑 에너지로 우주 구조 연구), 스피어엑스(빅뱅초기 인플레이션 현상 연구, 우리우주 은하분포 형태, 우리 은하 내 물 분포)"] },
        { q: "전파망원경이란?", a: ["지향성 안테나를 이용해 외계에서 오는 전파를 관측하는 기기(구름과 대기의 영향을 거의 받지 않음)"] },
        { q: "전파간섭계란? 망원경 이름까지", a: ["각기 다른 전파망원경을 서로 연결하여 서로 떨어진 거리만큼의 구경 크기의 분해능을 얻을 수 있는 기술, 아타카마 밀리미터 집합체, 칼G잰스키 초대형 망원경, EHT"] },
        { q: "로켓의 정의와 이론적 근거", a: ["정의- 작용-반작용의 법칙으로 운동하는 모터 중에서 자체 탑재된 추진제만을 가속시켜서 추력을 얻는 모터, 작용- 반작용 법칙(모든 작용에는 반대방향에 같은 크기의 힘의 반작용이 있다.)"] },
        { q: "로켓의 역사 간단 서술", a: ["최초-중국의 비화창고려-최무선의 주화 왜구격퇴기록조선-세종의 신기전(역사상 최고의 2단 로켓)>문종의 화차"] },
        { q: "치올코프스키의 업적", a: ["액체 산소와 액체 수소를 연료로 하는 로켓 설계도 발표, 우주 엘리베이터, 우주정거장, 다단계 로켓, 제트엔진 이론 발표"] },
        { q: "고다드의 업적", a: ["현대 로켓의 선구자, 최초 액체연료 로켓 발사 성공"] },
        { q: "폰브라운", a: ["v시리즈 로켓 개발, 독일 패망 후, 미국 우주개발계획 선도, 새턴v 로켓 개발"] },
        { q: "미-소 우주전쟁 간략히 설명", a: ["소련의 스푸크니트 프로그램에서부터 우주경쟁 본격 점화(최초의 인공위성)인류 최초의 우주인 유리 가가린이 108분동안 지구궤도 선회 성공(소련)미국의 아폴로 프로그램으로 아폴로 11호 포함 총 12명 우주인이 달 착륙에 성공미국에서 우주왕복선 프로그램 진행"] },
        { q: "스페이스x", a: ["일론 머스크"] },
        { q: "블루오리진", a: ["제프 베이조스"] },
        { q: "버진갤럭틱", a: ["리처드 브랜슨"] },
        { q: "아르테미스 계획", a: ["달로의 복귀"] },
        { q: "한국의 우주개발 계획", a: ["누리호1차, 2차 세계7번째 1.5톤 탑재다누리 달 임무궤도 진입"] },
        { q: "탈출(우주)속도란?", a: ["물체가 천체의 중력장을 벗어날 수 있는 최소 속도로 지구의 경우 제1우주속도(궤도속도), 제2우주속도(탈출속도), 제3우주속도(태양의 중력을 벗어날 수 있는 속도)가 있다"] },
        { q: "중력도움이란?", a: ["천체의 중력을 이용하여 우주선의 속도를 감,가속 및 비행 경로를 변경하는 것"] },
        { q: "자이로스코프란?", a: ["각운동량 보존 법칙에 따른 회전관성을 이용해 방향을 유지하는 장치로 항공기나 선박의 방향, 평형 측정 및 유지에 사용되며, 우주공간에서 우주선과 우주망원경의 자세를 제어한다"] },
        { q: "파이오니어 프로그램", a: ["목성 토성 탐사 및 태양계 내 물질 탐사"] },
        { q: "스노우라인이란?", a: ["H2O, NH3, CH4와 같은 휘발성 화합물이 얼음으로 응축될 수 있을 만큼 온도가 충분히 낮아지는 원시행성 원반의 경계이며, 별에 가까워질수록 암석형 행성이 형성되고, 별에서 멀어질수록 가스형 행성이 형성된다."] },
        { q: "우주의 나이는?", a: ["약 138억년"] },
        { q: "명왕성이 왜소행성이 된 배경", a: ["미국이 명왕성 발견 > 에리스(명왕성과 비슷한 크기) 발견> 행성의 정의 재정립 필요성 대두"] },
        { q: "행성의 정의(조건) 3가지", a: ["태양 중심의 공전궤도, 거의 구형을 유지할 수 있는 충분한 질량, 자신의 궤도에 있는 찌꺼기나 작은 천체를 제거할 것"] },
        { q: "천체가 구형을 형성할 수 있는 최소 직경", a: ["500km"] },
        { q: "행성의 분류", a: ["지구형 행성, 거대 행성, 왜소 행성"] },
        { q: "지구형 행성 목록", a: ["수성 금성 지구 화성"] },
        { q: "거대 행성 목록", a: ["목성 토성 천왕성 해왕성 이들은 가스형, 얼음형으로 나뉜다"] },
        { q: "지구형 행성의 구조적 특징", a: ["고체금속의 내핵과, 액체금속의 외핵이 있으며, 맨틀과 지각이 존재한다"] },
        { q: "거대행성의 구조적 특징", a: ["다량의 수소 분자가 대기에 존재하며, 목성 토성은 금속성 수소층이 존재한다.질량과, 태양으로부터의 거리에 따라 화학조성, 내부구조가 달라진다"] },
        { q: "행성의 내부 온도가 높은 내부온도를 유지하는 이유 3가지", a: ["행성 형성 초기의 중력수축 에너지에 의해 발생, 행성 형성 이후 운석의 충돌로 인한 에너지, 방사선 동위원소의 붕괴에 따른 에너지"] },
        { q: "행성 핵의 구성(지구형 핵)", a: ["철, 니켈"] },
        { q: "행성 핵의 구성(거대 행성)", a: ["규산염, 규산염-얼음"] },
        { q: "다이나모 이론이란?", a: ["자기권 생성이론으로 자전하는 행성이 전기적인 도체 물질로 이루어진 대류층을 가지고 있을 때 행성 내부에서 유도 전류가 발생해 자기장이 형성된다는 이론ex) 지구형 행성의 철, 니켈 중심핵, 목성,토성의 액체금속 형태의 수소층, 천왕성, 해왕성의 얼음-암모니아-메탄의 혼합물"] },
        { q: "자기권의 형태와 크기 결정은?", a: ["행성 자기장의 세기와 태양풍의 압력에 의해 결정된다"] },
        { q: "오로라의 생성 원리", a: ["태양풍의 대전입자(전자 양성자 알파입자)가 지구자기권을 따라 극지방으로 유입되면서 대기중으로 방전되어 대기중의 다양한 원소의 원자나 분자와 충돌하면서 그 원소가 가진 고유한 색상을 방출하면서 생성된다."] }
    ];
    
    let correctCount = 0;
    const totalQuestions = ORIGINAL_QUIZ_DATA.length;
    let shuffledQuizData = []; // 무작위로 섞인 데이터를 저장할 배열

    // Fisher-Yates 셔플 알고리즘
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // 이 함수는 HTML의 onclick 이벤트에서 직접 호출되므로 window 객체에 할당
    window.checkAnswer = function(originalIndex) {
        // shuffledQuizData를 사용하여 현재 문제 데이터 접근
        const questionData = shuffledQuizData.find(q => q.originalIndex === originalIndex);
        if (!questionData) return; // 데이터가 없으면 종료

        // DOM 요소는 고유한 originalIndex를 기반으로 접근
        const inputElement = document.getElementById(`input-${originalIndex}`);
        const resultElement = document.getElementById(`result-${originalIndex}`);
        const answerRevealElement = document.getElementById(`answer-reveal-${originalIndex}`);
        const checkButton = document.getElementById(`check-btn-${originalIndex}`);
        
        // 이미 확인된 문제는 다시 처리하지 않음
        if (checkButton.disabled) return;
        
        const userAnswer = inputElement.value.trim().toLowerCase();
        // 정답 검증: 띄어쓰기/하이픈/쉼표 등을 제거하여 유연하게 검증
        const correctAnswers = questionData.a.map(ans => ans.trim().toLowerCase().replace(/[\s\-,.()]/g, ''));
        const cleanedUserAnswer = userAnswer.replace(/[\s\-,.()]/g, '');

        const isCorrect = correctAnswers.includes(cleanedUserAnswer);

        // 결과 영역 초기화
        resultElement.classList.remove('correct', 'incorrect');
        answerRevealElement.style.display = 'block';

        if (isCorrect) {
            resultElement.textContent = "🎉 정답입니다! 🎉";
            resultElement.classList.add('correct');
            // 첫 번째 정답만 표시
            answerRevealElement.innerHTML = `정답: ${questionData.a[0]}`; 
            
            // 처음 맞췄을 때만 점수 증가
            correctCount++;
        } else {
            resultElement.textContent = "❌ 오답입니다. 정답 공개 ❌";
            resultElement.classList.add('incorrect');
            // 모든 정답 옵션을 표시
            answerRevealElement.innerHTML = `정답: ${questionData.a.join(' / ')}`; 
        }
        
        // 버튼 비활성화 및 입력 필드 잠금
        checkButton.disabled = true;
        inputElement.disabled = true;

        // 최종 점수 표시 업데이트
        updateScoreDisplay();
    }

    // 최종 점수 표시 함수
    function updateScoreDisplay() {
        const scoreElement = document.getElementById('final-score');
        scoreElement.textContent = `점수: ${correctCount} / ${totalQuestions}`;
    }

    // 퀴즈 페이지 생성 및 렌더링 함수
    function renderQuiz() {
        // 1. ORIGINAL_QUIZ_DATA를 복사하고 originalIndex를 추가
        shuffledQuizData = ORIGINAL_QUIZ_DATA.map((item, index) => ({...item, originalIndex: index}));
        
        // 2. 문제 순서를 무작위로 섞음
        shuffleArray(shuffledQuizData);
        
        const quizListDiv = document.getElementById('quiz-list');
        quizListDiv.innerHTML = '';
        
        shuffledQuizData.forEach((item, index) => {
            const section = document.createElement('div');
            section.className = 'question-section';
            
            // 문제와 정답을 동적으로 생성 (질문 원문 그대로 사용)
            // ID는 원본 인덱스를 사용해야 checkAnswer 함수가 정확한 데이터를 찾음
            section.innerHTML = `
                <div class="question-text">
                    ${index + 1}. ${item.q}<span style="color: #bbb;"> [답을 입력하세요]</span>
                </div>
                <div class="input-group">
                    <input type="text" id="input-${item.originalIndex}" class="answer-input" placeholder="정답을 입력하세요." onkeydown="if(event.key === 'Enter') window.checkAnswer(${item.originalIndex})">
                    <button id="check-btn-${item.originalIndex}" class="check-button" onclick="window.checkAnswer(${item.originalIndex})">확인하기</button>
                </div>
                <div id="result-${item.originalIndex}" class="reveal-section"></div>
                <div id="answer-reveal-${item.originalIndex}" class="correct-answer"></div>
            `;
            quizListDiv.appendChild(section);
        });

        // 초기 점수 표시 업데이트
        updateScoreDisplay();
    }

    // 페이지 로드 시 퀴즈 생성
    window.onload = renderQuiz;
</script>

</body>
</html>